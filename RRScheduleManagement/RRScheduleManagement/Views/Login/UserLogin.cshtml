@model RRSBOL.Users
@{
    ViewBag.Title = "UserLogin";
 }

<!--[if lt IE 7]>		<html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>			<html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>			<html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<!--<![endif]-->
<!-- Mirrored from exprostudio.com/html/medlink/searchresult-v1.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 09 Jun 2018 07:21:19 GMT -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
<script src="~/Scripts/jquery-1.7.1.min.js"></script>
  @using (Html.BeginForm()) {
    @Html.ValidationSummary(true)
       <div>
        <div class="login-form mt-100">
            <div class="mb-30 text-center">
                <img src="images/logo.png">
            </div>
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-user"></i></span>
                    <div class="editor-field">
                        @Html.TextBoxFor(model => model.Email, new { @class = "form-control", id = "txtEmail" })
                        @Html.ValidationMessageFor(model => model.Email)
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                    <div class="editor-field">
                        @Html.TextBoxFor(model => model.Password, new { @class = "form-control", id = "txtPassword" })
                        @Html.ValidationMessageFor(model => model.Password)
                    </div>
                </div>
            </div>
            <div class="form-group mt-30">
                <button type="submit" id="btnSubmit" class="btn btn-primary"><i class="fa fa-sign-in pr5" aria-hidden="true"></i>Log in</button>
             <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
    Sign Up
  </button>
                 </div>
            <div class="clearfix">
                <a href="#">Forgot Password?</a>
            </div>
        </div>
    </div>
}

<div class="container">
   <!-- Button to Open the Modal -->


  <!-- The Modal -->
  <div class="modal fade" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">User Registration</h4>
          <button type="button" class="close" data-dismiss="modal">×</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
          <table class="table">
              <tr>
                  <td>@Html.LabelFor(model => model.Email)</td>
                  <td>@Html.TextBoxFor(model => model.Email , new { @class = "form-control", id = "txtEmailU" })</td>
                  <td>@Html.ValidationMessageFor(model => model.Email)</td>
              </tr>
                <tr>
                  <td>@Html.LabelFor(model => model.Password)</td>
                  <td>@Html.TextBoxFor(model => model.Password, new { @class = "form-control",@id="txtPasswordU"})</td>
                  <td>@Html.ValidationMessageFor(model => model.Password)</td>
              </tr>
                <tr>
                  <td>@Html.LabelFor(model => model.Firstname)</td>
                  <td>@Html.TextBoxFor(model => model.Firstname, new { @class = "form-control",@id="txtFirstname"})</td>
                  <td>@Html.ValidationMessageFor(model => model.Firstname)</td>
              </tr>
                <tr>
                  <td>@Html.LabelFor(model => model.Lastname)</td>
                  <td>@Html.TextBoxFor(model => model.Lastname, new { @class = "form-control",@id="txtLastname"})</td>
                  <td>@Html.ValidationMessageFor(model => model.Lastname)</td>
              </tr>
                <tr>
                  <td>@Html.LabelFor(model => model.Gender)</td>
                  <td>@Html.TextBoxFor(model => model.Gender, new { @class = "form-control",@id="txtGender"})</td>
                  <td>@Html.ValidationMessageFor(model => model.Gender)</td>
              </tr>
                <tr>
                  <td>@Html.LabelFor(model => model.UserImage)</td>
                  <td>@Html.TextBoxFor(model => model.UserImage, new {@class = "form-control", @id="txtUserImage"})</td>
                  <td>@Html.ValidationMessageFor(model => model.UserImage)</td>
              </tr>
          </table>
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <input type="submit" id="btnSave" value="Save" class="btn btn-success btn-lg" />
          <button type="button" class="btn btn-danger btn-lg" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
  </div>
  
</div>

<script type="text/javascript">
    $(document).ready(function() {
        $("#btnSave").click(function () {
           debugger;
           var UserDetails = new Object;
           UserDetails.Email = $("#txtEmailU").val();
           UserDetails.Password = $("#txtPasswordU").val();
           UserDetails.Firstname = $("#txtFirstname").val();
           UserDetails.Lastname = $("#txtLastname").val();
           UserDetails.Gender = $("#txtGender").val();
           UserDetails.UserImage = $("#txtUserImage").val();

           $.ajax({
               type: "POST",
               async: false,
               url: "http://localhost:61140/UserService.asmx?op=AddUsers",
               data: "{ user: " + UserDetails + "}",
               contentType: "application/json; charset=utf-8",
               dataType: 'JSON',
               accept: "json",
               success: function () {
                   alert("Success");
               },
               error: function (response) {
                   console.log(response);
               }
           });
        });
    });
</script>
